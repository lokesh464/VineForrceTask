<div class="rounded-rectangle-background d-md-flex py-2">
  <button class="btn btn-sm btn-light rounded-2 mx-2 btn-common" (click)="onStateForm()">
    <span><i class="ri-add-line fs-4"></i></span> &nbsp; Add State &nbsp;
  </button>
</div>

<div class="container-fluid mt-3 p-0">
  <p-table
    #table
    [value]="States"
    [lazy]="true"
    [tableStyle]="{ 'min-width': '50rem' }"
    class="State-table"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>Serial No.</th>
        <th>State</th>
        <th class="text-center">Action</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-State>
      <tr>
        <td>
          {{ State.id }}
        </td>
       
        <td>
          {{ State.name }}
        </td>
        <td class="d-flex justify-content-evenly">
       
          <i
            class="pi pi-trash text-center d-block"
            style="color: red"
            (click)="onStateDelete(State.id)"
          ></i>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td [attr.colspan]="12" class="text-center">No records found</td>
      </tr>
    </ng-template>
  </p-table>
</div>

<p-dialog
  header="{{ dialogHeader }}"
  [(visible)]="visible"
  [modal]="true"
  [style]="{
    width: '50vw',
    minWidth: '300px',
    zIndex: '1109',
    padding: '26px',
    borderRadius: '12px',
    background: 'white'
  }"
  (onHide)="hideDialogEvent(true)"
>
  <form *ngIf="visible" [formGroup]="StateForm" class="add-State-modal">
    <div class="form-bg rounded-3 mt-3 overflow-hidden">
      <div class="row">
        <div class="col-md-4 mx-2 ">
          <label class="text-nowrap d-block" for="country">Country<span class="text-danger">*</span></label>
         
            <p-dropdown appendTo="body" formControlName="countryId" [options]="countries" optionLabel="name" optionValue="id" placeholder="Select a City"></p-dropdown>
            
        </div>
        <div class="col-md-4 mx-2">
          <label class="text-nowrap" for="State">State Name<span class="text-danger">*</span></label>
          <input
            type="text"
            name="name"
            id="name"
            class="form-control border rounded bg-white text-dark"
            formControlName="name"
          />
        </div>
      </div>
    </div>

    <div class="py-3 d-flex">
      <div class="" style="margin-left: auto">
        <button class="btn btn-outline-primary" type="submit" (click)="OnStateSubmit()">
          Save
        </button>
      </div>
    </div>
  </form>
</p-dialog>
